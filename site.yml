---
- name: Install cmatrix
  hosts: all
  pre_tasks:
    - name: Install cmatrix
      community.general.homebrew:
        name:
          - cmatrix
        state: present
        update_homebrew: true

    - name: Check for Homebrew
      ansible.builtin.import_tasks: tasks/homebrew_check.yml

    - name: Create Developer directory
      ansible.builtin.import_tasks: tasks/create_dev_dir.yml

  roles:
    - common
    - devops
